{"ast":null,"code":"import _slicedToArray from \"/Users/Alkane/Desktop/github/Assignment2/a2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/Users/Alkane/Desktop/github/Assignment2/a2/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/Alkane/Desktop/github/Assignment2/a2/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport uuid from 'uuid/v1';\nimport { LOCALSTORAGE_NAME } from '../constants';\nimport { ADD_ITEM } from '../actions/AddItem';\nimport { CANCEL_EDIT_ITEM } from '../actions/CancelEditItem';\nimport { DELETE_ITEM } from '../actions/DeleteItem';\nimport { EDIT_ITEM } from '../actions/EditItem';\nimport { ITEM_COMPLETION } from '../actions/ItemCompletion';\nimport { SELECT_EDIT_ITEM } from '../actions/SelectEditItem';\nimport { LOAD_STATE_LOCALSTORAGE } from '../actions/LoadStateLocalStorage';\nimport { SAVE_STATE_LOCALSTORAGE } from '../actions/SaveStateLocalStorage';\nimport { REORDER_ITEM } from '../actions/ReorderItem';\nvar INITIAL_STATE = {\n  items: []\n};\n\nvar messagesReducer = function messagesReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOAD_STATE_LOCALSTORAGE:\n      {\n        var localStorageState = JSON.parse(window.localStorage.getItem(LOCALSTORAGE_NAME));\n\n        if (localStorageState) {\n          // message: Validate local storage state.\n          return _objectSpread({}, state, {\n            items: localStorageState\n          });\n        }\n\n        return state;\n      }\n\n    case SAVE_STATE_LOCALSTORAGE:\n      {\n        window.localStorage.setItem(LOCALSTORAGE_NAME, JSON.stringify(action.payload.state));\n        return state;\n      }\n\n    case ADD_ITEM:\n      {\n        var id = uuid();\n        var messageItem = {\n          value: action.payload.value,\n          id: id,\n          completed: false\n        };\n        return _objectSpread({}, state, {\n          items: [].concat(_toConsumableArray(state.items), [messageItem])\n        });\n      }\n\n    case CANCEL_EDIT_ITEM:\n      {\n        var newState = state.items.length ? _objectSpread({}, state, {\n          editingItem: {}\n        }) : _objectSpread({}, state);\n        return newState;\n      }\n\n    case DELETE_ITEM:\n      {\n        var items = state.items.filter(function (_ref) {\n          var id = _ref.id;\n          return id !== action.payload.id;\n        });\n        return _objectSpread({}, state, {\n          items: items\n        });\n      }\n\n    case EDIT_ITEM:\n      {\n        var _items = state.items.map(function (item) {\n          if (item.id === action.payload.modifiedItem.id) {\n            item.value = action.payload.modifiedItem.value;\n          }\n\n          return item;\n        });\n\n        return _objectSpread({}, state, {\n          items: _items,\n          editingItem: {}\n        });\n      }\n\n    case ITEM_COMPLETION:\n      {\n        var _items2 = state.items.map(function (item) {\n          if (item.id === action.payload.modifiedItem.id) {\n            item.completed = !item.completed;\n          }\n\n          return item;\n        });\n\n        return _objectSpread({}, state, {\n          items: _items2\n        });\n      }\n\n    case SELECT_EDIT_ITEM:\n      {\n        var item = state.items.find(function (_ref2) {\n          var id = _ref2.id;\n          return id === action.payload.id;\n        });\n        return _objectSpread({}, state, {\n          editingItem: item\n        });\n      }\n\n    case REORDER_ITEM:\n      {\n        var clone = _toConsumableArray(state.items);\n\n        var _clone$splice = clone.splice(action.payload.initialPosition, 1),\n            _clone$splice2 = _slicedToArray(_clone$splice, 1),\n            removed = _clone$splice2[0];\n\n        clone.splice(action.payload.newPosition, 0, removed);\n        return _objectSpread({}, state, {\n          items: clone\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport default messagesReducer;","map":{"version":3,"sources":["/Users/Alkane/Desktop/github/Assignment2/a2/src/reducers/Messages.js"],"names":["uuid","LOCALSTORAGE_NAME","ADD_ITEM","CANCEL_EDIT_ITEM","DELETE_ITEM","EDIT_ITEM","ITEM_COMPLETION","SELECT_EDIT_ITEM","LOAD_STATE_LOCALSTORAGE","SAVE_STATE_LOCALSTORAGE","REORDER_ITEM","INITIAL_STATE","items","messagesReducer","state","action","type","localStorageState","JSON","parse","window","localStorage","getItem","setItem","stringify","payload","id","messageItem","value","completed","newState","length","editingItem","filter","map","item","modifiedItem","find","clone","splice","initialPosition","removed","newPosition"],"mappings":"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","sourcesContent":["import uuid from 'uuid/v1';\n\nimport { LOCALSTORAGE_NAME } from '../constants';\n\nimport { ADD_ITEM } from '../actions/AddItem';\nimport { CANCEL_EDIT_ITEM } from '../actions/CancelEditItem';\nimport { DELETE_ITEM } from '../actions/DeleteItem';\nimport { EDIT_ITEM } from '../actions/EditItem';\nimport { ITEM_COMPLETION } from '../actions/ItemCompletion';\nimport { SELECT_EDIT_ITEM } from '../actions/SelectEditItem';\nimport { LOAD_STATE_LOCALSTORAGE } from '../actions/LoadStateLocalStorage';\nimport { SAVE_STATE_LOCALSTORAGE } from '../actions/SaveStateLocalStorage';\nimport { REORDER_ITEM } from '../actions/ReorderItem';\n\nconst INITIAL_STATE = {\n  items: [],\n};\n\nconst messagesReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case LOAD_STATE_LOCALSTORAGE: {\n      const localStorageState = JSON.parse(window.localStorage.getItem(LOCALSTORAGE_NAME));\n\n      if (localStorageState) {\n        // message: Validate local storage state.\n        return { ...state, items: localStorageState };\n      }\n      return state;\n    }\n\n    case SAVE_STATE_LOCALSTORAGE: {\n      window.localStorage.setItem(LOCALSTORAGE_NAME, JSON.stringify(action.payload.state));\n      return state;\n    }\n\n    case ADD_ITEM: {\n      const id = uuid();\n      const messageItem = {\n        value: action.payload.value,\n        id,\n        completed: false,\n      };\n\n      return { ...state, items: [...state.items, messageItem] };\n    }\n\n    case CANCEL_EDIT_ITEM: {\n      const newState = state.items.length ? { ...state, editingItem: {} } : { ...state };\n      return newState;\n    }\n\n    case DELETE_ITEM: {\n      const items = state.items.filter(({ id }) => id !== action.payload.id);\n      return { ...state, items };\n    }\n\n    case EDIT_ITEM: {\n      const items = state.items.map(item => {\n        if (item.id === action.payload.modifiedItem.id) {\n          item.value = action.payload.modifiedItem.value;\n        }\n\n        return item;\n      });\n\n      return { ...state, items, editingItem: {} };\n    }\n\n    case ITEM_COMPLETION: {\n      const items = state.items.map(item => {\n        if (item.id === action.payload.modifiedItem.id) {\n          item.completed = !item.completed;\n        }\n\n        return item;\n      });\n\n      return { ...state, items };\n    }\n\n    case SELECT_EDIT_ITEM: {\n      const item = state.items.find(({ id }) => id === action.payload.id);\n      return { ...state, editingItem: item };\n    }\n\n    case REORDER_ITEM: {\n      const clone = [...state.items];\n      const [removed] = clone.splice(action.payload.initialPosition, 1);\n      clone.splice(action.payload.newPosition, 0, removed);\n\n      return { ...state, items: clone };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default messagesReducer;\n"]},"metadata":{},"sourceType":"module"}